{"version":3,"file":"static/js/991.d6b5d956.chunk.js","mappings":"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","sources":["components/MovieList.jsx","components/SearchBar/SearchBar.styled.jsx","components/SearchBar/SearchBar.jsx","pages/Movies.jsx","services/APIService.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import { Link, useLocation } from 'react-router-dom';\n\nexport default function MoviesList({ movies }) {\n  const location = useLocation();\n\n  return (\n    <ul>\n      {movies.map(movie => (\n        <li key={movie.id}>\n          <Link to={`/movies/${movie.id}`} state={{ from: location }}>\n            {movie.title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n}\n","import styled from \"@emotion/styled\";\n\nexport const Form = styled.form`\n  display: inline-flex;\n  align-items: center;\n  position: relative;\n  margin-bottom: 16px;\n`;\n\nexport const Input = styled.input`\n  padding: 8px 32px 8px 8px;\n  border-radius: 4px;\n  font: inherit;\n  margin-right: 16px;\n`;\n\nexport const Button = styled.button`\npadding: 8px 16px;\n  border-radius: 4px;\n  text-decoration: none;\n  color: black;\n  font-size: 16px\n`","import { Form, Input, Button } from \"./SearchBar.styled\";\n\nexport default function SearchBar({onSubmit}) {\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const value = e.target.elements.name.value.trim()\n        console.log(value)\n        value !== \"\" && onSubmit(value)\n        e.target.reset()\n    }\n\n  return (\n    <Form onSubmit={handleSubmit}>\n       <Input\n       name=\"name\"\n        type=\"text\"\n        aria-label=\"movie_search\"\n      />\n      <Button type='submit' >Search</Button>\n    </Form>\n  )\n}\n","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { getMovieBySearch } from 'services/APIService';\nimport MoviesList from 'components/MovieList';\nimport SearchBar from 'components/SearchBar/SearchBar';\n\nexport default function Movies() {\n  const [movies, setMovies] = useState([]);\n  const[searchParams, setSearchParams] = useSearchParams()\n  const search = searchParams.get('query') ?? \"\"\n\n  useEffect(() => {\n    if (search === '') {\n       return \n    }\n    async function fetchMovies(value) {\n      const response = await getMovieBySearch(value);\n      console.log(response);\n      if (response.success === 'false') {\n        setMovies([])\n        return\n      }\n       setMovies(response.results) \n    }\n    fetchMovies(search);\n  }, [search]);\n\n  const changeSearch = value => {\n    const nextParams = value !== \"\" ? {query: value} : {};\n    console.log(nextParams)\n    setSearchParams(nextParams)\n  }\n\n  return (\n    <section>\n      <SearchBar onSubmit={changeSearch}/>\n      <MoviesList movies={movies} />\n    </section>\n  );\n}\n","const options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0OGUzZjFhNWMzYmU3YjcyZWM4MjA1MWE5YTM1ZTlmYiIsInN1YiI6IjY0NmE3ZGRiZjg1OTU4MDE3NDA4MzAzOCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.c1FUz_8z8vCObT-x5HWLuwQhDIDSQZJcUHKPD0QJOTU'\n  }\n};\n\nasync function getTrending() {\n  try {\n    const response = await fetch(\n      'https://api.themoviedb.org/3/trending/movie/day?language=en-US',\n      options\n    );\n    const movies = await response.json();\n    return movies\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nasync function getMovieByID(id) {\n  try {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/movie/${id}?language=en-US`,\n      options\n    );\n    const movie = await response.json();\n    \n    return movie\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nasync function getMovieBySearch(search) {\n  try {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/search/movie?query=${search}&include_adult=false&language=en-US&page=1`,\n      options\n    );\n    const movies = await response.json();\n    return movies\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nasync function getMovieCast(id) {\n  try {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/movie/${id}/credits?language=en-US`,\n      options\n    );\n    const movieCast = await response.json();\n    return movieCast\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nasync function getMovieReviews(id) {\n  try {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/movie/${id}/reviews?language=en-US`,\n      options\n    );\n    const reviews = await response.json();\n    return reviews\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport {getTrending, getMovieByID, getMovieBySearch, getMovieCast, getMovieReviews};\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}"],"names":["MoviesList","movies","location","useLocation","map","movie","to","id","state","from","title","Form","styled","Input","Button","SearchBar","onSubmit","e","preventDefault","value","target","elements","name","trim","console","log","reset","type","Movies","useState","setMovies","useSearchParams","searchParams","setSearchParams","search","get","useEffect","getMovieBySearch","response","success","results","fetchMovies","nextParams","query","options","method","headers","accept","Authorization","getTrending","fetch","json","error","getMovieByID","getMovieCast","movieCast","getMovieReviews","reviews","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}